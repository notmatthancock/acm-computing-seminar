<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2016-10-03 Mon 16:52 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title>ACM Computing Seminar C++ Guide</title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Matt Hancock" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../css/main.css">
<script src="../js/main.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">ACM Computing Seminar C++ Guide</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline4">1. Introduction</a>
<ul>
<li><a href="#orgheadline1">1.1. A little about the language</a></li>
<li><a href="#orgheadline2">1.2. Additional references</a></li>
<li><a href="#orgheadline3">1.3. License, source, etc.</a></li>
</ul>
</li>
<li><a href="#orgheadline8">2. Getting started</a>
<ul>
<li><a href="#orgheadline5">2.1. Text editors</a></li>
<li><a href="#orgheadline6">2.2. Compilers</a></li>
<li><a href="#orgheadline7">2.3. Writing a program</a></li>
</ul>
</li>
<li><a href="#orgheadline24">3. Data types</a>
<ul>
<li><a href="#orgheadline11">3.1. The <code>bool</code> type</a></li>
<li><a href="#orgheadline12">3.2. <code>int</code> types</a></li>
<li><a href="#orgheadline13">3.3. Floating point types</a></li>
<li><a href="#orgheadline14">3.4. Casting</a></li>
<li><a href="#orgheadline15">3.5. The <code>const</code> modifier</a></li>
<li><a href="#orgheadline16">3.6. The <code>typedef</code> keyword</a></li>
<li><a href="#orgheadline20">3.7. Pointers and references</a>
<ul>
<li><a href="#orgheadline17">3.7.1. Pointers</a></li>
<li><a href="#orgheadline19">3.7.2. References</a></li>
</ul>
</li>
<li><a href="#orgheadline23">3.8. Arrays</a>
<ul>
<li><a href="#orgheadline21">3.8.1. Fixed length arrays</a></li>
<li><a href="#orgheadline22">3.8.2. Dynamic length arrays</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline34">4. Control structures</a>
<ul>
<li><a href="#orgheadline10">4.1. Conditionals</a>
<ul>
<li><a href="#orgheadline25">4.1.1. Example: <code>if</code> / <code>else</code> and random number generation</a></li>
<li><a href="#orgheadline26">4.1.2. Example: <code>if</code> / <code>else if</code> / <code>else</code></a></li>
</ul>
</li>
<li><a href="#orgheadline33">4.2. Loops</a>
<ul>
<li><a href="#orgheadline28">4.2.1. The <code>for</code> loop</a>
<ul>
<li><a href="#orgheadline27">4.2.1.1. Example: row-major matrix</a></li>
</ul>
</li>
<li><a href="#orgheadline31">4.2.2. The <code>while</code> loop</a>
<ul>
<li><a href="#orgheadline29">4.2.2.1. Example: truncated sum</a></li>
<li><a href="#orgheadline30">4.2.2.2. Example: estimating machine epsilon</a></li>
</ul>
</li>
<li><a href="#orgheadline32">4.2.3. The <code>break</code> keyword</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline39">5. Input / Output</a>
<ul>
<li><a href="#orgheadline35">5.1. Inputs to <code>main</code>: <code>argc</code> and <code>argv</code></a></li>
<li><a href="#orgheadline38">5.2. Filestreams</a>
<ul>
<li><a href="#orgheadline36">5.2.1. Reading data from a file</a></li>
<li><a href="#orgheadline37">5.2.2. Writing data to a file</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline18">6. Functions</a>
<ul>
<li><a href="#orgheadline41">6.1. Writing a function</a>
<ul>
<li><a href="#orgheadline40">6.1.1. Example: <code>linspace</code>: generating a set of equally-spaced points</a></li>
</ul>
</li>
<li><a href="#orgheadline45">6.2. Header and implementation files</a>
<ul>
<li><a href="#orgheadline42">6.2.1. The header file</a></li>
<li><a href="#orgheadline43">6.2.2. The implementation file</a></li>
<li><a href="#orgheadline44">6.2.3. The file containing <code>main</code></a></li>
</ul>
</li>
<li><a href="#orgheadline48">6.3. Function pointers</a>
<ul>
<li><a href="#orgheadline46">6.3.1. Example: Newton's method for rootfinding</a></li>
<li><a href="#orgheadline47">6.3.2. Example: The midpoint rule for definite integrals</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline9">7. Object-oriented programming</a>
<ul>
<li><a href="#orgheadline58">7.1. Example: a vector <code>class</code></a>
<ul>
<li><a href="#orgheadline49">7.1.1. The header file</a></li>
<li><a href="#orgheadline50">7.1.2. The implementation file</a></li>
<li><a href="#orgheadline51">7.1.3. Example usage</a></li>
<li><a href="#orgheadline54">7.1.4. Operator overloading</a>
<ul>
<li><a href="#orgheadline52">7.1.4.1. Overloading <code>operator[]</code></a></li>
<li><a href="#orgheadline53">7.1.4.2. Overloading <code>operator=</code></a></li>
</ul>
</li>
<li><a href="#orgheadline55">7.1.5. The copy constructor</a></li>
<li><a href="#orgheadline57">7.1.6. Friend functions</a>
<ul>
<li><a href="#orgheadline56">7.1.6.1. <code>operator*</code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="main">
<div id="footer"><a href="../../../">ACM Computing Seminar Home</a> &mdash; This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.en_US">Creative Commons Attribution 3.0 Unported License</a>.</div>
<a href="javascript:;" id="toc-open">&#9776;</a>
<a href="javascript:;" id="toc-close">&times;</a>

<div id="outline-container-orgheadline4" class="outline-2">
<h2 id="orgheadline4"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
This manual is a guide for quickly learning C++ for mathematical and 
scientific computing applications. The goal of this guide is not to 
make you a C++ expert, but to quickly teach you enough of the C++ 
fundamentals and design patterns to help you off the ground. If you 
should like to go beyond this guide, a few references are listed below.
</p>
</div>

<div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1"><span class="section-number-3">1.1</span> A little about the language</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Before you dive in, here is a little about the C++ programming language:
</p>

<p>
C++ is an extension of the C programming language. Both C and C++ are 
<b>statically-typed</b> and <b>compiled</b> languages, which means that the <b>type</b> 
of variables used in your source code must be declared explicitly and is 
checked when the program is compiled (i.e., translated into a machine 
executable file).
</p>

<p>
One key difference between C++ and C, however, is that C++ provides 
many mechanisms to allow for the <a href="https://en.wikipedia.org/wiki/Object-oriented_programming">object-oriented programming paradigm</a>. This 
essentially allows the software writer to create custom, complex, 
reusable data structures. The object-oriented paradigm is extremely useful, 
but we will only touch the surface of it in this guide.
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">1.2</span> Additional references</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li><a href="http://cppreference.com/">C++ reference</a></li>
<li><a href="http://www.cplusplus.com/doc/tutorial">C++ tutorials</a></li>
<li><a href="https://en.wikipedia.org/wiki/C++">C++ wiki</a></li>
<li><a href="http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list">A compiled list of C++ textbooks from stackoverflow</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">1.3</span> License, source, etc.</h3>
<div class="outline-text-3" id="text-1-3">
<p>
This document was created using <a href="https://www.gnu.org/software/emacs/">Emacs</a> <a href="http://orgmode.org/">org mode</a> with some custom css and 
javascript. You can find the license, view the source, and contribute 
to this document here:
</p>

<p>
<a href="https://github.com/notmatthancock/acm-computing-seminar"><a href="https://github.com/notmatthancock/acm-computing-seminar">https://github.com/notmatthancock/acm-computing-seminar</a></a>
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-2">
<h2 id="orgheadline8"><span class="section-number-2">2</span> Getting started</h2>
<div class="outline-text-2" id="text-2">
<p>
The particular programming tools that you choose to use will
likely be largely influenced by the operating system that you use.
We will use free tools (often developed for GNU / Linux systems) in
this guide. These tools are mostly available in other operating 
systems as well. For example, on Windows, you could use <a href="https://www.cygwin.com/">Cygwin</a>, or 
install a dual boot with some Linux distribution (e.g., <a href="http://www.ubuntu.com/">Ubuntu</a>). On the 
other hand, MAC OSX, being a BSD-derived system, has many of the 
required tools already available (although, a command line utility, 
<a href="http://brew.sh/">Brew</a>, makes building and installing other tools very simple).
</p>

<p>
In the following two sections, we'll talk about the two basic types of 
software that you'll need to begin writing C++ programs.
</p>
</div>

<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5"><span class="section-number-3">2.1</span> Text editors</h3>
<div class="outline-text-3" id="text-2-1">
<p>
The text editor that you choose to use should be be any program 
capable of editing plain text files. However, you may find that it's 
more productive to write in an editor that offers features such as 
syntax highlighting, code-completion, bracket-matching, or other features. 
Here are some popular free text editors:
</p>

<ul class="org-ul">
<li><a href="https://atom.io/">Atom</a> is a recently open-sourced GUI editor which some have compared to the very popular non-free editor, <a href="https://sublimetext.com/">Sublime Text</a>.</li>
<li><a href="https://www.gnu.org/software/emacs/">Emacs</a> is another powerful editor, which allows for highly optimized workflows.</li>
<li><a href="https://wiki.gnome.org/Apps/Gedit">Gedit</a> is a nice and simple GUI editor, which is the default in GNOME desktop environment.</li>
<li><a href="https://kate-editor.org/">Kate</a> is a another simple GUI editor, which is the default in the KDE desktop environment.</li>
<li><a href="http://www.vim.org/">Vim</a> is a modal editor with a steep learning curve. It offers highly efficient means to edit text, and is available (or it's predecessor, vi) by default on nearly all UNIX-like operating systems.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6"><span class="section-number-3">2.2</span> Compilers</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Second, you'll need a program called a <b>compiler</b>. A compiler translates 
the high-level C++ language into an executable program. In this guide, we 
will use the <code>g++</code> compiler which is freely available through the 
<a href="https://gcc.gnu.org/">gnu compiler collection (gcc)</a>.
</p>

<p>
<code>g++</code> is a program which you typically call from the command line, which 
takes as input, your C++ source code file, and produces as output, a 
binary executable file.
</p>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7"><span class="section-number-3">2.3</span> Writing a program</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Let's create our first C++ program, the obligatory "Hello, world!". First, 
fire-up your text editor and create a file called, <code>hello.cpp</code>, with the 
following contents:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr">2: </span>
<span class="linenr">3: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr">4: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"Hello, world!"</span>;
<span class="linenr">5: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">6: </span>}
</pre>
</div>

<p>
Now, to compile the program, execute:
</p>

<div class="org-src-container">

<pre class="src src-sh">g++ hello.cpp
</pre>
</div>

<p>
Followed by:
</p>
<div class="org-src-container">

<pre class="src src-sh">./a.out
</pre>
</div>

<p>
By default, <code>g++</code> names the resulting binary executable, <code>a.out</code>, but
you can specify a different output file name by using the <code>-o</code> flag:
</p>

<div class="org-src-container">

<pre class="src src-sh">g++ hello.cpp -o my_executable_file.bin
</pre>
</div>

<p>
Note that in Windows, executable files typically end in <code>.exe</code>. In Unix-like
systems, there is no particular file-extension type for executables.
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline24" class="outline-2">
<h2 id="orgheadline24"><span class="section-number-2">3</span> Data types</h2>
<div class="outline-text-2" id="text-3">
<p>
As we <a href="#orgheadline1">mentioned previously</a>, you must explicitly declare the type of a 
variable. So, in this section, we'll talk about the main variable 
types you'll use. In the section on <a href="#orgheadline9">object-oriented programming</a>, 
we'll discuss how to build more complex data types.
</p>
</div>

<div id="outline-container-orgheadline11" class="outline-3">
<h3 id="orgheadline11"><span class="section-number-3">3.1</span> The <code>bool</code> type</h3>
<div class="outline-text-3" id="text-3-1">
<p>
A boolean data type is either <code>true</code> or <code>false</code>. There are a number of 
operators between these types, illustrated in the code snippet below 
(note that lines starting with <code>//</code> are comments and are ignored by the 
compiler):
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2; font-weight: bold;">bool</span> <span style="color: #e69f00; font-weight: bold;">a</span>,<span style="color: #e69f00; font-weight: bold;">b</span>,<span style="color: #e69f00; font-weight: bold;">c</span>; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Declare the type of variables a, b, and c.</span>
<span class="linenr"> 2: </span>a = <span style="color: #d55e00; font-weight: bold;">true</span>;
<span class="linenr"> 3: </span>b = <span style="color: #d55e00; font-weight: bold;">false</span>;
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">!  is logical negation when applied to a single variable.</span>
<span class="linenr"> 6: </span>c = !a; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">c is false.</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">&amp;&amp; is logical and.</span>
<span class="linenr"> 9: </span>c = (a &amp;&amp; b); <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">c is false.</span>
<span class="linenr">10: </span>
<span class="linenr">11: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">|| is logical or.</span>
<span class="linenr">12: </span>c = (a || b); <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">c is true.</span>
</pre>
</div>

<p>
We don't often use boolean variables by themselves, but rather as a result 
of comparing two other data types (such as comparing if one integer is less 
than another integer). Expressions that result in boolean values are mostly 
used in <a href="#orgheadline10">conditional control structures</a>.
</p>
</div>
</div>

<div id="outline-container-orgheadline12" class="outline-3">
<h3 id="orgheadline12"><span class="section-number-3">3.2</span> <code>int</code> types</h3>
<div class="outline-text-3" id="text-3-2">
<p>
There are <a href="http://en.cppreference.com/w/cpp/language/types">a variety of integer types</a> in C++. Below, we illustrate a 
couple. These can be modified further using the <code>short</code> and <code>long</code> 
keywords, changing the number of bytes occupied by the variable (and 
hence the maximum and minimum size the variable can take on).
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">a</span> = 6; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">initialize a to 6.</span>
<span class="linenr"> 2: </span><span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">b</span> = 7; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">initialize b to 7.</span>
<span class="linenr"> 3: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">c</span>; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">declare c to be an integer variable.</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>a = 6;
<span class="linenr"> 6: </span>b = 7;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>c = a / b; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">c is 0</span>
<span class="linenr"> 9: </span>c = b / a; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">c is 1</span>
<span class="linenr">10: </span>c = b % a; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">c is 1 (% is the integer remainder or modulo operator)</span>
<span class="linenr">11: </span>c = a - b; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">c is -1</span>
<span class="linenr">12: </span>c = a &gt; b; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">c is 0 (boolean gets cast to integer)</span>
<span class="linenr">13: </span>c = a &lt; b; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">c is 1 (boolean gets cast to integer)</span>
<span class="linenr">14: </span>c++;       <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">c is 2 (++ is shorthand for c = c + 1)</span>
<span class="linenr">15: </span>
<span class="linenr">16: </span>b = a - b; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">b is 4294967295 (-1 gets cast to unsigned)</span>
<span class="linenr">17: </span>b = b + 1; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">b is 0 (b was previously the largest unsigned,</span>
<span class="linenr">18: </span>           <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">so adding one circles it back to zero.)</span>
<span class="linenr">19: </span>b += 7;    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">b is 7 (+= is shorthand for b = b + 7;</span>
</pre>
</div>

<p>
In the above, we've illustrated the use of signed and unsigned 
integer types and the operators between them. It is important to 
take care when you assign a result to a variable that doesn't match 
the type of the result. In many cases, the result gets implicitly 
cast to the type of variable being assigned to. The result may or 
may not match your expectations, as shown above.
</p>
</div>
</div>

<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13"><span class="section-number-3">3.3</span> Floating point types</h3>
<div class="outline-text-3" id="text-3-3">
<p>
There are two main floating point data types in C++, <code>float</code> and <code>double</code>,
which correspond to <a href="https://en.wikipedia.org/wiki/IEEE_floating_point">IEEE 32- and 64-bit floating point types</a>. 
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 2: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;limits&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr"> 5: </span>  <span style="color: #0072b2; font-weight: bold;">float</span> <span style="color: #e69f00; font-weight: bold;">a</span>; <span style="color: #009e73; font-style: italic;">//  </span><span style="color: #009e73; font-style: italic;">Declare a single precision float.</span>
<span class="linenr"> 6: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">b</span>; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Declare a double precision float.</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Print the max value of a float type.</span>
<span class="linenr"> 9: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::<span style="color: #d55e00; font-weight: bold;">numeric_limits</span>&lt;<span style="color: #0072b2; font-weight: bold;">float</span>&gt;::max() &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::endl;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Print the max value of a double type.</span>
<span class="linenr">12: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::<span style="color: #d55e00; font-weight: bold;">numeric_limits</span>&lt;<span style="color: #0072b2; font-weight: bold;">double</span>&gt;::max() &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::endl;
<span class="linenr">13: </span>
<span class="linenr">14: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Print machine epsilon of a float type.</span>
<span class="linenr">15: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::<span style="color: #d55e00; font-weight: bold;">numeric_limits</span>&lt;<span style="color: #0072b2; font-weight: bold;">float</span>&gt;::epsilon() &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::endl;
<span class="linenr">16: </span>
<span class="linenr">17: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Print machine epsilon of a double type.</span>
<span class="linenr">18: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::<span style="color: #d55e00; font-weight: bold;">numeric_limits</span>&lt;<span style="color: #0072b2; font-weight: bold;">double</span>&gt;::epsilon() &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::endl;
<span class="linenr">19: </span>
<span class="linenr">20: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>

<pre class="example">
3.40282e+38
1.79769e+308
1.19209e-07
2.22045e-16
</pre>
</div>
</div>

<div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14"><span class="section-number-3">3.4</span> Casting</h3>
<div class="outline-text-3" id="text-3-4">
<p>
Sometimes it is useful to explicitly cast one variable type as another. 
This can be done like the following:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">a</span>; <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">b</span> = 3.14159;
<span class="linenr">2: </span>
<span class="linenr">3: </span>a = (<span style="color: #0072b2; font-weight: bold;">int</span>) b;
<span class="linenr">4: </span>
<span class="linenr">5: </span><span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; a &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::endl;
</pre>
</div>

<pre class="example">
3
</pre>
</div>
</div>

<div id="outline-container-orgheadline15" class="outline-3">
<h3 id="orgheadline15"><span class="section-number-3">3.5</span> The <code>const</code> modifier</h3>
<div class="outline-text-3" id="text-3-5">
<p>
If the value of some variable should not change, you can use the <code>const</code>
keyword to protect its status. It is typical to denote <code>const</code> variables 
with all caps. Try to compile the following program:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #56b4e9; font-weight: bold;">const</span> <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">PI</span> = 3.14159;
<span class="linenr">2: </span>
<span class="linenr">3: </span>PI = 3.0;
</pre>
</div>

<p>
You will see an error like, <code>error: assignment of read-only variable ‘PI’</code>. 
</p>
</div>
</div>

<div id="outline-container-orgheadline16" class="outline-3">
<h3 id="orgheadline16"><span class="section-number-3">3.6</span> The <code>typedef</code> keyword</h3>
<div class="outline-text-3" id="text-3-6">
<p>
Suppose you have a large numerical experiment, where all your code used 
floating point of type <code>double</code>. Your curious about how the results will 
be affected by changing the floating point type to single precision <code>float</code>
type. One solution would be to run a "find and replace" in your editor, but 
something about that doesn't feel right.
</p>

<p>
Instead, we can use the <code>typedef</code> statement to define types:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Define "int_type" to be a short int.</span>
<span class="linenr"> 2: </span><span style="color: #56b4e9; font-weight: bold;">typedef</span> <span style="color: #0072b2; font-weight: bold;">short</span> <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #0072b2; font-weight: bold;">int_type</span>;
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Define "float_type" to be single precision float.</span>
<span class="linenr"> 5: </span><span style="color: #56b4e9; font-weight: bold;">typedef</span> <span style="color: #0072b2; font-weight: bold;">float</span> <span style="color: #0072b2; font-weight: bold;">float_type</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Define "array_index_type" to be unsigned long int.</span>
<span class="linenr"> 8: </span><span style="color: #56b4e9; font-weight: bold;">typedef</span> <span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #0072b2; font-weight: bold;">long</span> <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #0072b2; font-weight: bold;">array_index_type</span>;
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #0072b2; font-weight: bold;">int_type</span> <span style="color: #e69f00; font-weight: bold;">a</span> = -17; 
<span class="linenr">11: </span><span style="color: #0072b2; font-weight: bold;">float_type</span> <span style="color: #e69f00; font-weight: bold;">b</span> = 1.14; 
<span class="linenr">12: </span><span style="color: #0072b2; font-weight: bold;">array_index_type</span> <span style="color: #e69f00; font-weight: bold;">c</span> = 9;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline20" class="outline-3">
<h3 id="orgheadline20"><span class="section-number-3">3.7</span> Pointers and references</h3>
<div class="outline-text-3" id="text-3-7">
</div><div id="outline-container-orgheadline17" class="outline-4">
<h4 id="orgheadline17"><span class="section-number-4">3.7.1</span> Pointers</h4>
<div class="outline-text-4" id="text-3-7-1">
<p>
Pointers are variables that hold the <b>memory address</b> for a variable 
of a specific type. Pointers are declared by specifying the variable 
type, followed by the <code>*</code> symbol, followed by the name of the pointer 
variable, e.g., <code>double * x</code> defines a "pointer to double" variable. 
The variable, <code>x</code>, therefore, does not hold the value of a <code>double</code> 
type, but rather, the memory address for a variable of type, <code>double</code>.
The memory address for a variable can be obtained by the <code>&amp;</code> operator.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">a</span>;
<span class="linenr">2: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">b</span> = 7;
<span class="linenr">3: </span>
<span class="linenr">4: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">This obtains the memory address of `b`.</span>
<span class="linenr">5: </span>a = &amp;b;
<span class="linenr">6: </span>
<span class="linenr">7: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Prints some memory address (starts with 0x)</span>
<span class="linenr">8: </span><span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; a &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::endl;
</pre>
</div>

<pre class="example">
0x7ffe0d98f7b8
</pre>

<p>
Similar to obtaining the memory address from a regular variable, using the
<code>&amp;</code> operator, you can use the <code>*</code> symbol before a pointer to access the 
variable value held at the memory location of the pointer. In this context,
the <code>*</code> symbol is called the <b>dereference operator</b>. This is probably better 
understood with a short example:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">a</span>;
<span class="linenr"> 2: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">b</span> = 7.3;
<span class="linenr"> 3: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">c</span>;
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Now `a` holds the memory address of `b`.</span>
<span class="linenr"> 6: </span>a = &amp;b;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">`*a` obtains the value of the variable</span>
<span class="linenr"> 9: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">at the memory address held by `a`.</span>
<span class="linenr">10: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">So, `c` is 7.3.</span>
<span class="linenr">11: </span>c = *a;
<span class="linenr">12: </span>
<span class="linenr">13: </span><span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; c &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
</pre>
</div>

<pre class="example">
7.3
</pre>
</div>
</div>

<div id="outline-container-orgheadline19" class="outline-4">
<h4 id="orgheadline19"><span class="section-number-4">3.7.2</span> References</h4>
<div class="outline-text-4" id="text-3-7-2">
<p>
A reference is a sort of like a pointer, but not quite. <a href="https://en.wikipedia.org/wiki/Reference_(C++)">There are differences</a>.
A good analogy, which you can find in the previous link, is that a reference
is similar to a symbolic link, or "shortcut" if you're on Windows. You can 
treat it more-or-less like the original variable, but it's not the original.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">a</span> = 1.1;
<span class="linenr"> 2: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">`b` is a reference to `a`.</span>
<span class="linenr"> 3: </span><span style="color: #0072b2; font-weight: bold;">double</span> &amp; <span style="color: #e69f00; font-weight: bold;">b</span> = a;
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"a: "</span> &lt;&lt; a &lt;&lt; <span style="color: #848ea9;">", b: "</span> &lt;&lt; b &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>a = 2.1;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span><span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"a: "</span> &lt;&lt; a &lt;&lt; <span style="color: #848ea9;">", b: "</span> &lt;&lt; b &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>b = 3.1;
<span class="linenr">12: </span>
<span class="linenr">13: </span><span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"a: "</span> &lt;&lt; a &lt;&lt; <span style="color: #848ea9;">", b: "</span> &lt;&lt; b &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">14: </span>
<span class="linenr">15: </span><span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"\n\n"</span>;
<span class="linenr">16: </span><span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"&amp;a: "</span> &lt;&lt; &amp;a &lt;&lt; <span style="color: #848ea9;">"\n"</span> &lt;&lt; <span style="color: #848ea9;">"&amp;b: "</span> &lt;&lt; &amp;b &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
</pre>
</div>

<pre class="example">
a: 1.1, b: 1.1
a: 2.1, b: 2.1
a: 3.1, b: 3.1


&amp;a: 0x7ffcfbe7b1e8
&amp;b: 0x7ffcfbe7b1e8
</pre>

<p>
References are useful for passing around large objects, so that the object
doesn't need to be copied. References are also useful as a return type for 
functions <a href="#orgheadline18">(to be discussed later)</a> because it allows to assign to assign a 
value to a function, which is useful if the function, for example, returns 
a reference to the element of an array.
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline23" class="outline-3">
<h3 id="orgheadline23"><span class="section-number-3">3.8</span> Arrays</h3>
<div class="outline-text-3" id="text-3-8">
<p>
The length of an array can be fixed or dynamic, and how you
declare the array depends on this. Array indexing starts at 0 in C++ 
(compared to start at 1, for example, in Fortran or Matlab).
</p>
</div>

<div id="outline-container-orgheadline21" class="outline-4">
<h4 id="orgheadline21"><span class="section-number-4">3.8.1</span> Fixed length arrays</h4>
<div class="outline-text-4" id="text-3-8-1">
<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">a</span>[5];
<span class="linenr">2: </span>
<span class="linenr">3: </span>a[0] = 1.0;
<span class="linenr">4: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">etc.</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline22" class="outline-4">
<h4 id="orgheadline22"><span class="section-number-4">3.8.2</span> Dynamic length arrays</h4>
<div class="outline-text-4" id="text-3-8-2">
<p>
Dynamic length arrays are made possible through pointers:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">This allocates memory for 5 double types.</span>
<span class="linenr"> 2: </span><span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">a</span> = <span style="color: #56b4e9; font-weight: bold;">new</span> <span style="color: #0072b2; font-weight: bold;">double</span>[5];
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Afterwards, you can treat `a` like a normal array.</span>
<span class="linenr"> 5: </span>a[0] = 1.0;
<span class="linenr"> 6: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">etc...</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Whenever you use the `new` keyword, you must</span>
<span class="linenr"> 9: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">delete the memory allocated when you're done by hand.</span>
<span class="linenr">10: </span><span style="color: #56b4e9; font-weight: bold;">delete</span> [] a;
<span class="linenr">11: </span>
<span class="linenr">12: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">We can change the size of `a`.</span>
<span class="linenr">13: </span>a = <span style="color: #56b4e9; font-weight: bold;">new</span> <span style="color: #0072b2; font-weight: bold;">double</span> [10];
<span class="linenr">14: </span>
<span class="linenr">15: </span>a[0] = 2.0;
<span class="linenr">16: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">etc...</span>
<span class="linenr">17: </span>
<span class="linenr">18: </span><span style="color: #56b4e9; font-weight: bold;">delete</span> [] a;
</pre>
</div>

<p>
Note that omitting the first <code>delete</code> statement will cause no error. 
However, the memory allocated by the first <code>new</code> statement will not 
be freed, and thus inaccessible. This is bad because the memory cannot 
be allocated to other resources. You should generally try to avoid 
manually memory management when possible, but a good tool for debugging 
memory problems is called <a href="http://valgrind.org/">valgrind</a>. 
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline34" class="outline-2">
<h2 id="orgheadline34"><span class="section-number-2">4</span> Control structures</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-orgheadline10" class="outline-3">
<h3 id="orgheadline10"><span class="section-number-3">4.1</span> Conditionals</h3>
<div class="outline-text-3" id="text-4-1">
</div><div id="outline-container-orgheadline25" class="outline-4">
<h4 id="orgheadline25"><span class="section-number-4">4.1.1</span> Example: <code>if</code> / <code>else</code> and random number generation</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
Often a code block should only be executed if some condition is true. 
Below, we generate a random number between 0 and 1; print the number; and,
print whether or not the number was greater than 0.5.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 2: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;time.h&gt;</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr"> 6: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Seed a random number generator.</span>
<span class="linenr"> 7: </span>  srand(123);
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">rand() produces a random integer between 0 and RAND_MAX.</span>
<span class="linenr">10: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">num</span> = rand() / ((<span style="color: #0072b2; font-weight: bold;">double</span>) RAND_MAX);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"num: "</span> &lt;&lt; num &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">13: </span>
<span class="linenr">14: </span>  <span style="color: #56b4e9; font-weight: bold;">if</span> (num &lt; 0.5) {
<span class="linenr">15: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"num was less than 0.5.\n"</span>;
<span class="linenr">16: </span>  }
<span class="linenr">17: </span>  <span style="color: #56b4e9; font-weight: bold;">else</span> {
<span class="linenr">18: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"num was greater than 0.5.\n"</span>;
<span class="linenr">19: </span>  }
<span class="linenr">20: </span>
<span class="linenr">21: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Do it again.</span>
<span class="linenr">22: </span>  num = rand() / ((<span style="color: #0072b2; font-weight: bold;">double</span>) RAND_MAX);
<span class="linenr">23: </span>
<span class="linenr">24: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"num: "</span> &lt;&lt; num &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">25: </span>
<span class="linenr">26: </span>  <span style="color: #56b4e9; font-weight: bold;">if</span> (num &lt; 0.5) {
<span class="linenr">27: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"num was less than 0.5.\n"</span>;
<span class="linenr">28: </span>  }
<span class="linenr">29: </span>  <span style="color: #56b4e9; font-weight: bold;">else</span> {
<span class="linenr">30: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"num was greater than 0.5.\n"</span>;
<span class="linenr">31: </span>  }
<span class="linenr">32: </span>
<span class="linenr">33: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">34: </span>}
</pre>
</div>

<pre class="example">
num: 0.0600514
num was less than 0.5.
num: 0.788318
num was greater than 0.5.
</pre>
</div>
</div>

<div id="outline-container-orgheadline26" class="outline-4">
<h4 id="orgheadline26"><span class="section-number-4">4.1.2</span> Example: <code>if</code> / <code>else if</code> / <code>else</code></h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
You can follow <code>else</code> immediate by another <code>if</code> to have multiple mutually-
exclusive blocks:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 2: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;time.h&gt;</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr"> 6: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Seed the random number generator based on the current time.</span>
<span class="linenr"> 7: </span>  srand(time(<span style="color: #d55e00; font-weight: bold;">NULL</span>));
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">rand() produces a random integer between 0 and RAND_MAX.</span>
<span class="linenr">10: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">num</span> = rand() / ((<span style="color: #0072b2; font-weight: bold;">double</span>) RAND_MAX);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"num: "</span> &lt;&lt; num &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">13: </span>
<span class="linenr">14: </span>  <span style="color: #56b4e9; font-weight: bold;">if</span> (num &gt;= 0.75) {
<span class="linenr">15: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"num was between 0.75 and 1.\n"</span>;
<span class="linenr">16: </span>  }
<span class="linenr">17: </span>  <span style="color: #56b4e9; font-weight: bold;">else</span> <span style="color: #56b4e9; font-weight: bold;">if</span> (num &gt;= 0.5) {
<span class="linenr">18: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"num was between 0.5 and 0.75."</span>;
<span class="linenr">19: </span>  }
<span class="linenr">20: </span>  <span style="color: #56b4e9; font-weight: bold;">else</span> <span style="color: #56b4e9; font-weight: bold;">if</span> (num &gt;= 0.25) {
<span class="linenr">21: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"num was between 0.25 and 0.5."</span>;
<span class="linenr">22: </span>  }
<span class="linenr">23: </span>  <span style="color: #56b4e9; font-weight: bold;">else</span> {
<span class="linenr">24: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"num was between 0 and 0.25"</span>;
<span class="linenr">25: </span>  }
<span class="linenr">26: </span>
<span class="linenr">27: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">28: </span>}
</pre>
</div>

<pre class="example">
num: 0.0456405
num was between 0 and 0.25
</pre>

<p>
The conditions are checked in the order that they're written. So, for example,
in the second condition, we don't need to specify <code>num &gt;= 0.5 &amp;&amp; num &lt; 0.75</code> 
because we know that this condition will only be checked if the previous 
was false.
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline33" class="outline-3">
<h3 id="orgheadline33"><span class="section-number-3">4.2</span> Loops</h3>
<div class="outline-text-3" id="text-4-2">
<p>
We discuss two main structures for iterating &#x2013; the <code>for</code> and <code>while</code> loops.
</p>
</div>
<div id="outline-container-orgheadline28" class="outline-4">
<h4 id="orgheadline28"><span class="section-number-4">4.2.1</span> The <code>for</code> loop</h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
The <code>for</code> loop requires three specifications &#x2013; the iteration variable 
initialization, the termination condition, and the update rule. The body
of the loop follows these three specifications. Shown below, we declare 
an array; assign to its components; and, print the current component to 
the screen.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">length</span> = 11;
<span class="linenr"> 2: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x</span>[length];
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; length; i++) {
<span class="linenr"> 5: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Assign to each array component.</span>
<span class="linenr"> 6: </span>  x[i] = (<span style="color: #0072b2; font-weight: bold;">double</span>) i / (length - 1);
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Print the current component.</span>
<span class="linenr"> 9: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"x["</span> &lt;&lt; i &lt;&lt; <span style="color: #848ea9;">"] = "</span> &lt;&lt; x[i] &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::endl;
<span class="linenr">10: </span>}
</pre>
</div>

<pre class="example">
x[0] = 0
x[1] = 0.1
x[2] = 0.2
x[3] = 0.3
x[4] = 0.4
x[5] = 0.5
x[6] = 0.6
x[7] = 0.7
x[8] = 0.8
x[9] = 0.9
x[10] = 1
</pre>
</div>


<div id="outline-container-orgheadline27" class="outline-5">
<h5 id="orgheadline27"><span class="section-number-5">4.2.1.1</span> Example: row-major matrix</h5>
<div class="outline-text-5" id="text-4-2-1-1">
<p>
You can nest loops, i.e., loops inside of loops, etc.
</p>

<p>
Below, is an example of a double loop for creating and accessing 
matrix data stored in a flat array. The matrix data is stored in 
<a href="https://en.wikipedia.org/wiki/Row-major-order">row-major order</a>. This means the first <code>n_cols</code> elements of the 
array named, <code>matrix</code>, will contain the first row of the matrix, 
the second <code>n_cols</code> elements of <code>matrix</code> will contain the second row, etc.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">n_rows</span> = 4;
<span class="linenr"> 2: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">n_cols</span> = 3;
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Row-major matrix array.</span>
<span class="linenr"> 5: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">matrix</span> [n_rows*n_cols];
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">temporary index.</span>
<span class="linenr"> 8: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">k</span>;
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; n_rows; i++) {
<span class="linenr">11: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">j</span>=0; j &lt; n_cols; j++) {
<span class="linenr">12: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Convert the (i,j) matrix index to the "flat" row-major index.</span>
<span class="linenr">13: </span>    k = i*n_cols + j;
<span class="linenr">14: </span>
<span class="linenr">15: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Assign a value of 1.0 to the diagonal,</span>
<span class="linenr">16: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">2 to the off-diagonal, and 0 otherwise.</span>
<span class="linenr">17: </span>    <span style="color: #56b4e9; font-weight: bold;">if</span> (i == j) {
<span class="linenr">18: </span>      matrix[k] = 1.0;
<span class="linenr">19: </span>    }
<span class="linenr">20: </span>    <span style="color: #56b4e9; font-weight: bold;">else</span> <span style="color: #56b4e9; font-weight: bold;">if</span> ((i == (j+1)) || (i == (j-1))){
<span class="linenr">21: </span>      matrix[k] = 2.0;
<span class="linenr">22: </span>    }
<span class="linenr">23: </span>    <span style="color: #56b4e9; font-weight: bold;">else</span> {
<span class="linenr">24: </span>      matrix[k] = 0.0;
<span class="linenr">25: </span>    }
<span class="linenr">26: </span>  }
<span class="linenr">27: </span>}
<span class="linenr">28: </span>
<span class="linenr">29: </span>
<span class="linenr">30: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Print the matrix elements.</span>
<span class="linenr">31: </span><span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; n_rows; i++) {
<span class="linenr">32: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">j</span>=0; j &lt; n_cols; j++) {
<span class="linenr">33: </span>    k = i*n_cols + j;
<span class="linenr">34: </span>
<span class="linenr">35: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; matrix[k];
<span class="linenr">36: </span>    <span style="color: #56b4e9; font-weight: bold;">if</span> (j != (n_cols-1)) {
<span class="linenr">37: </span>      <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">", "</span>;
<span class="linenr">38: </span>    }
<span class="linenr">39: </span>  }
<span class="linenr">40: </span>
<span class="linenr">41: </span>  <span style="color: #56b4e9; font-weight: bold;">if</span> (i != (n_rows-1)) {
<span class="linenr">42: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">43: </span>  }
<span class="linenr">44: </span>}
</pre>
</div>

<pre class="example">
1, 2, 0
2, 1, 2
0, 2, 1
0, 0, 2
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline31" class="outline-4">
<h4 id="orgheadline31"><span class="section-number-4">4.2.2</span> The <code>while</code> loop</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
A <code>while</code> loop iterates while a condition is <code>true</code>. Essentially, it is a <code>for</code>
loop without an update variable.
</p>
</div>

<div id="outline-container-orgheadline29" class="outline-5">
<h5 id="orgheadline29"><span class="section-number-5">4.2.2.1</span> Example: truncated sum</h5>
<div class="outline-text-5" id="text-4-2-2-1">
<p>
In the following example, we approximate the geometric series:
</p>

<p>
\[
1 = \sum_{n=1}^{\infty} \left(\frac{1}{2}\right)^n
\]
</p>

<p>
The loop exits when the absolute error, 
</p>

<p>
\[
    \text{absolute error} := 1-\sum_{n=1}^N  \left(\frac{1}{2}\right)^n
\]
</p>

<p>
is less than some specified tolerance, <code>tol</code>.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">sum</span> = 0.0;
<span class="linenr"> 2: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">base</span> = 0.5;
<span class="linenr"> 3: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">pow</span> = base; <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">initialize to base^1</span>
<span class="linenr"> 4: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">tol</span> = 1e-4;
<span class="linenr"> 5: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">iter</span> = 1;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #56b4e9; font-weight: bold;">while</span>((1-sum) &gt;= tol) {
<span class="linenr"> 8: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Add `pow` to `sum`.</span>
<span class="linenr"> 9: </span>  sum += pow;
<span class="linenr">10: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Update `pow` by one power of `base`.</span>
<span class="linenr">11: </span>  pow *= base;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  printf(<span style="color: #848ea9;">"Iter: %03d, Sum: %.5f, Abs Err: %.5f\n"</span>, iter, sum, 1-sum); 
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Update the `iter` val by 1.</span>
<span class="linenr">16: </span>  iter += 1;
<span class="linenr">17: </span>}
</pre>
</div>

<pre class="example">
Iter: 001, Sum: 0.50000, Abs Err: 0.50000
Iter: 002, Sum: 0.75000, Abs Err: 0.25000
Iter: 003, Sum: 0.87500, Abs Err: 0.12500
Iter: 004, Sum: 0.93750, Abs Err: 0.06250
Iter: 005, Sum: 0.96875, Abs Err: 0.03125
Iter: 006, Sum: 0.98438, Abs Err: 0.01562
Iter: 007, Sum: 0.99219, Abs Err: 0.00781
Iter: 008, Sum: 0.99609, Abs Err: 0.00391
Iter: 009, Sum: 0.99805, Abs Err: 0.00195
Iter: 010, Sum: 0.99902, Abs Err: 0.00098
Iter: 011, Sum: 0.99951, Abs Err: 0.00049
Iter: 012, Sum: 0.99976, Abs Err: 0.00024
Iter: 013, Sum: 0.99988, Abs Err: 0.00012
Iter: 014, Sum: 0.99994, Abs Err: 0.00006
</pre>
</div>
</div>

<div id="outline-container-orgheadline30" class="outline-5">
<h5 id="orgheadline30"><span class="section-number-5">4.2.2.2</span> Example: estimating machine epsilon</h5>
<div class="outline-text-5" id="text-4-2-2-2">
<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">eps</span> = 1;
<span class="linenr"> 2: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">count</span> = 1;
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #56b4e9; font-weight: bold;">while</span>(1.0 + eps*0.5 &gt; 1.0) {
<span class="linenr"> 5: </span>    eps *= 0.5;
<span class="linenr"> 6: </span>    count += 1;
<span class="linenr"> 7: </span>}
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span><span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; eps &lt;&lt; <span style="color: #848ea9;">", "</span> &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::<span style="color: #d55e00; font-weight: bold;">numeric_limits</span>&lt;<span style="color: #0072b2; font-weight: bold;">double</span>&gt;::epsilon() &lt;&lt; <span style="color: #848ea9;">"\n"</span>
<span class="linenr">10: </span>          &lt;&lt; count &lt;&lt; <span style="color: #848ea9;">", "</span> &lt;&lt; <span style="color: #d55e00; font-weight: bold;">std</span>::<span style="color: #d55e00; font-weight: bold;">numeric_limits</span>&lt;<span style="color: #0072b2; font-weight: bold;">double</span>&gt;::digits;
</pre>
</div>

<pre class="example">
2.22045e-16, 2.22045e-16
53, 53
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline32" class="outline-4">
<h4 id="orgheadline32"><span class="section-number-4">4.2.3</span> The <code>break</code> keyword</h4>
<div class="outline-text-4" id="text-4-2-3">
<p>
The <code>break</code> keyword provides a mechanism for exiting the direct parent loop
for which the <code>break</code> statement is placed. For example:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; 3; i++) {
<span class="linenr">2: </span>  <span style="color: #56b4e9; font-weight: bold;">while</span>(<span style="color: #d55e00; font-weight: bold;">true</span>) {
<span class="linenr">3: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"Entering infinite loop number "</span> &lt;&lt; (i+1) &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">4: </span>    <span style="color: #56b4e9; font-weight: bold;">break</span>;
<span class="linenr">5: </span>  }
<span class="linenr">6: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"We escaped the infinite loop!\n"</span>;
<span class="linenr">7: </span>}
</pre>
</div>

<pre class="example">
Entering infinite loop number 1
We escaped the infinite loop!
Entering infinite loop number 2
We escaped the infinite loop!
Entering infinite loop number 3
We escaped the infinite loop!
</pre>

<p>
The previous example is contrived, but there are situations, where you
might find the break statement within an infinite loop useful. Of course,
you should avoid this sort of thing if there is a more straight-forward 
approach.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline39" class="outline-2">
<h2 id="orgheadline39"><span class="section-number-2">5</span> Input / Output</h2>
<div class="outline-text-2" id="text-5">
<p>
We have already used the <code>&lt;iostream&gt;</code> library to print results to 
the console. However, in many cases, we'd like to read in lots of 
data from a file, pass option flags to the program from the command 
line, or save the results of some computation to a file for further 
analysis.
</p>
</div>

<div id="outline-container-orgheadline35" class="outline-3">
<h3 id="orgheadline35"><span class="section-number-3">5.1</span> Inputs to <code>main</code>: <code>argc</code> and <code>argv</code></h3>
<div class="outline-text-3" id="text-5-1">
<p>
The <code>main</code> function has two optional arguments which we have thus far omitted, 
<code>argc</code> and <code>argv</code>. These arguments allow arguments to passed to the <code>main</code> 
function when the program is run. This is how flags and other arguments are 
passed to programs you use from the command line. The first, <code>argc</code>, is of 
type, <code>int</code>, and stands for arg count. It gives the number of arguments 
to the program. The arg count is always at least 1 because the program's 
name is always the first argument. The second, <code>argv</code>, is a double pointer to
<code>char</code>. In essence, <code>argv</code> is an array of strings.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">argc</span>, <span style="color: #0072b2; font-weight: bold;">char</span> ** <span style="color: #e69f00; font-weight: bold;">argv</span>) {
<span class="linenr"> 4: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"argc = "</span> &lt;&lt; argc &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; argc; i++) {
<span class="linenr"> 7: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"argv["</span> &lt;&lt; i &lt;&lt; <span style="color: #848ea9;">"] = "</span> &lt;&lt; argv[i] &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr"> 8: </span>  }
<span class="linenr"> 9: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">10: </span>}
</pre>
</div>

<p>
Compile this program, and run, for example:
</p>

<div class="org-src-container">

<pre class="src src-bash">g++ main.cpp
./a.out hello 1 2 34
</pre>
</div>

<pre class="example">
argc = 5
argv[0] = ./a.out
argv[1] = hello
argv[2] = 1
argv[3] = 2
argv[4] = 34
</pre>

<p>
<code>argc</code> and <code>argv</code> are handy for setting up large experiments. You could, for 
example, set up your main function so that different functions or parameters 
or used based on the arguments of <code>arcv</code>. Then, you could set up a shell 
script that loops through the desired arguments to be supplied to the main 
function.
</p>
</div>
</div>

<div id="outline-container-orgheadline38" class="outline-3">
<h3 id="orgheadline38"><span class="section-number-3">5.2</span> Filestreams</h3>
<div class="outline-text-3" id="text-5-2">
<p>
File input and output is crucial for numerical experiments with lots of data. 
In this section, we see how to read and write data to files.
</p>
</div>

<div id="outline-container-orgheadline36" class="outline-4">
<h4 id="orgheadline36"><span class="section-number-4">5.2.1</span> Reading data from a file</h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
In general, how data is read in depends heavily on how the data is stored. 
Nevertheless, we will give an example of reading in a vector stored in a 
particular fashion. Suppose a text file exists in the directory, 
<code>./data/vector.txt</code>, containing
</p>

<pre class="example">
1 2 3.14 4 5 6.28
</pre>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 2: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;fstream&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr"> 5: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::<span style="color: #0072b2; font-weight: bold;">fstream</span> <span style="color: #e69f00; font-weight: bold;">fin</span>(<span style="color: #848ea9;">"./data/vector.txt"</span>, <span style="color: #d55e00; font-weight: bold;">std</span>::<span style="color: #d55e00; font-weight: bold;">ios_base</span>::in);
<span class="linenr"> 6: </span>    <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">vector</span>[6];
<span class="linenr"> 7: </span>    <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span> = 0;
<span class="linenr"> 8: </span>    <span style="color: #56b4e9; font-weight: bold;">while</span>(fin &gt;&gt; vector[i]) {
<span class="linenr"> 9: </span>      <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; vector[i] &lt;&lt; <span style="color: #848ea9;">" "</span>;
<span class="linenr">10: </span>      i++;
<span class="linenr">11: </span>    }
<span class="linenr">12: </span>    <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">13: </span>}
</pre>
</div>

<div class="org-src-container">

<pre class="src src-sh">g++ main.cpp &amp;&amp; ./a.out
</pre>
</div>

<pre class="example">
1 2 3.14 4 5 6.28
</pre>

<p>
This simply prints the data in the file back out to the console. Note, however, 
that the data is read into an array of type <code>double</code>, so it can be processed 
numerically thereafter.
</p>

<p>
In this example dealt with simply stored data, and it was 
assumed that the number of data entries was known beforehand. Parsing 
data can become quite complicated depending on how it is stored, and 
depending on the intended format of the data.
</p>
</div>
</div>

<div id="outline-container-orgheadline37" class="outline-4">
<h4 id="orgheadline37"><span class="section-number-4">5.2.2</span> Writing data to a file</h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
Writing to a file is similar, using the <code>&lt;fstream&gt;</code> library.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;fstream&gt;</span>
<span class="linenr"> 2: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;cmath&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr"> 5: </span>  <span style="color: #d55e00; font-weight: bold;">std</span>::<span style="color: #0072b2; font-weight: bold;">fstream</span> <span style="color: #e69f00; font-weight: bold;">fout</span>(<span style="color: #848ea9;">"./data/new_shiny_data.txt"</span>, <span style="color: #d55e00; font-weight: bold;">std</span>::<span style="color: #d55e00; font-weight: bold;">ios_base</span>::out);
<span class="linenr"> 6: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  fout &lt;&lt; <span style="color: #848ea9;">"x\tsin(x)\n"</span>;
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; 11; i++) {
<span class="linenr">11: </span>    x = i / 10.0;
<span class="linenr">12: </span>    fout &lt;&lt; x &lt;&lt; <span style="color: #848ea9;">"\t"</span> &lt;&lt; sin(x) &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">13: </span>  }
<span class="linenr">14: </span>
<span class="linenr">15: </span>  fout.close();
<span class="linenr">16: </span>
<span class="linenr">17: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>

<p>
This produces a file called <code>new_shiny_data.txt</code> in the folder, <code>data</code>, 
containing:
</p>

<div class="org-src-container">

<pre class="src src-sh">x   sin(x)
0   0
0.1 0.0998334
0.2 0.198669
0.3 0.29552
0.4 0.389418
0.5 0.479426
0.6 0.564642
0.7 0.644218
0.8 0.717356
0.9 0.783327
1   0.841471
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline18" class="outline-2">
<h2 id="orgheadline18"><span class="section-number-2">6</span> Functions</h2>
<div class="outline-text-2" id="text-6">
<p>
So far, we've piled everything into the <code>main</code> function. When we have a block of 
code used for a specific subtask, we can offload it to a function. This promotes 
code which is separated based on the subtasks each block is intended to perform. 
This, in turn, makes your code easier to debug and easier to understand.  
</p>
</div>

<div id="outline-container-orgheadline41" class="outline-3">
<h3 id="orgheadline41"><span class="section-number-3">6.1</span> Writing a function</h3>
<div class="outline-text-3" id="text-6-1">
<p>
A function must be declared before use. Thus, a function usual consists of two
parts, a declaration and an implementation. You must declare the return type 
of a function as well as the types of all the function's arguments. If the 
function is defined in the same file as the <code>main</code> function, you should write
the declaration before <code>main</code> and the implementation after <code>main</code>.
</p>
</div>

<div id="outline-container-orgheadline40" class="outline-4">
<h4 id="orgheadline40"><span class="section-number-4">6.1.1</span> Example: <code>linspace</code>: generating a set of equally-spaced points</h4>
<div class="outline-text-4" id="text-6-1-1">
<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">This is the function declaration.</span>
<span class="linenr"> 4: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">You should describe the functions arguments</span>
<span class="linenr"> 5: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">and what is returned by the function in comments</span>
<span class="linenr"> 6: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">near the declaration.</span>
<span class="linenr"> 7: </span><span style="color: #009e73; font-style: italic;">//</span>
<span class="linenr"> 8: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">`linspace` returns an array of doubles containing</span>
<span class="linenr"> 9: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">`n_points` entries which are equally-spaced, starting</span>
<span class="linenr">10: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">at `start` and ending at `stop`.</span>
<span class="linenr">11: </span><span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #d55e00;">linspace</span>(<span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">start</span>, <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">stop</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">n_points</span>);
<span class="linenr">12: </span>
<span class="linenr">13: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">`void` is a function with no return type.</span>
<span class="linenr">14: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">`print_array` takes an array and prints it to std out.</span>
<span class="linenr">15: </span><span style="color: #0072b2; font-weight: bold;">void</span> <span style="color: #d55e00;">print_array</span>(<span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">arr</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">arr_len</span>);
<span class="linenr">16: </span>
<span class="linenr">17: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr">18: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">xs</span> = linspace(-1, 1, 5);
<span class="linenr">19: </span>  print_array(xs, 5);
<span class="linenr">20: </span>  <span style="color: #56b4e9; font-weight: bold;">delete</span> [] xs;
<span class="linenr">21: </span>
<span class="linenr">22: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">23: </span>}
<span class="linenr">24: </span>
<span class="linenr">25: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Implementation of `linspace`.</span>
<span class="linenr">26: </span><span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #d55e00;">linspace</span>(<span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">start</span>, <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">stop</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">n_points</span>) {
<span class="linenr">27: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">arr</span> = <span style="color: #56b4e9; font-weight: bold;">new</span> <span style="color: #0072b2; font-weight: bold;">double</span> [n_points];
<span class="linenr">28: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">dx</span> = (stop-start) / (n_points-1.0);
<span class="linenr">29: </span>
<span class="linenr">30: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; n_points; i++) {
<span class="linenr">31: </span>    arr[i] = start + i*dx;
<span class="linenr">32: </span>  }
<span class="linenr">33: </span>
<span class="linenr">34: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> arr;
<span class="linenr">35: </span>}
<span class="linenr">36: </span>
<span class="linenr">37: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Implementation of `print_array`.</span>
<span class="linenr">38: </span><span style="color: #0072b2; font-weight: bold;">void</span> <span style="color: #d55e00;">print_array</span>(<span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">arr</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">arr_len</span>) {
<span class="linenr">39: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; arr_len; i++) {
<span class="linenr">40: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; arr[i] &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">41: </span>  }
<span class="linenr">42: </span>}
</pre>
</div>

<pre class="example">
-1
-0.5
0
0.5
1
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline45" class="outline-3">
<h3 id="orgheadline45"><span class="section-number-3">6.2</span> Header and implementation files</h3>
<div class="outline-text-3" id="text-6-2">
<p>
The example in the previous section certainly made the <code>main</code> function
cleaner and simpler to understand, having only two function calls. However, 
the file itself was still pretty messy. Thankfully, there is a way to modularize 
further, by creating header and implementation files. Here is how we do it:
</p>
</div>

<div id="outline-container-orgheadline42" class="outline-4">
<h4 id="orgheadline42"><span class="section-number-4">6.2.1</span> The header file</h4>
<div class="outline-text-4" id="text-6-2-1">
<p>
Put the declarations from the into a header file, called <code>my_library.h</code>:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#if</span><span style="color: #0072b2;">n</span><span style="color: #0072b2;">def</span> MY_LIBRARY_H
<span class="linenr"> 2: </span><span style="color: #0072b2;">#define</span> <span style="color: #e69f00; font-weight: bold;">MY_LIBRARY_H</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #56b4e9; font-weight: bold;">namespace</span> <span style="color: #d55e00; font-weight: bold;">my_namespace</span> {
<span class="linenr"> 7: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">`linspace` returns an array of doubles containing</span>
<span class="linenr"> 8: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">`n_points` entries which are equally-spaced, starting</span>
<span class="linenr"> 9: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">at `start` and ending at `stop`.</span>
<span class="linenr">10: </span>    <span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #d55e00;">linspace</span>(<span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">start</span>, <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">stop</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">n_points</span>);
<span class="linenr">11: </span>
<span class="linenr">12: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">`void` is a function with no return type.</span>
<span class="linenr">13: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">`print_array` takes an array and prints it to std out.</span>
<span class="linenr">14: </span>    <span style="color: #0072b2; font-weight: bold;">void</span> <span style="color: #d55e00;">print_array</span>(<span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">arr</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">arr_len</span>);
<span class="linenr">15: </span>}
<span class="linenr">16: </span>
<span class="linenr">17: </span><span style="color: #0072b2;">#endif</span>
</pre>
</div>

<p>
Note the the function declarations are wrapped in conditional "macro" 
statments, <code>#ifndef</code>, <code>#define</code>, and <code>#endif</code>. You can think of this 
as protecting your library from being imported twice.
</p>

<p>
We have also introduced the notion of a <code>namespace</code> above. Namespaces 
help to prevent naming clashes between separate libraries. When calling 
a function from a particular namespace, you must write the namespace 
followed by <code>::</code> and then the function name. This is why many standard 
library functions like <code>&lt;iostream&gt;</code> begin with <code>std::</code>.
</p>
</div>
</div>

<div id="outline-container-orgheadline43" class="outline-4">
<h4 id="orgheadline43"><span class="section-number-4">6.2.2</span> The implementation file</h4>
<div class="outline-text-4" id="text-6-2-2">
<p>
Create a file called <code>my_library.cpp</code> containing the implementations as follows:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">"my_library.h"</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Implementation of `linspace`.</span>
<span class="linenr"> 4: </span><span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #d55e00; font-weight: bold;">my_namespace</span>::<span style="color: #d55e00;">linspace</span>(<span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">start</span>, <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">stop</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">n_points</span>) {
<span class="linenr"> 5: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">arr</span> = <span style="color: #56b4e9; font-weight: bold;">new</span> <span style="color: #0072b2; font-weight: bold;">double</span> [n_points];
<span class="linenr"> 6: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">dx</span> = (stop-start) / (n_points-1.0);
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; n_points; i++) {
<span class="linenr"> 9: </span>    arr[i] = start + i*dx;
<span class="linenr">10: </span>  }
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> arr;
<span class="linenr">13: </span>}
<span class="linenr">14: </span>
<span class="linenr">15: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Implementation of `print_array`.</span>
<span class="linenr">16: </span><span style="color: #0072b2; font-weight: bold;">void</span> <span style="color: #d55e00; font-weight: bold;">my_namespace</span>::<span style="color: #d55e00;">print_array</span>(<span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">arr</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">arr_len</span>) {
<span class="linenr">17: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; arr_len; i++) {
<span class="linenr">18: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; arr[i] &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">19: </span>  }
<span class="linenr">20: </span>}
</pre>
</div>

<p>
Note that we have to include the header file in quotations at the beginning, 
and the names of the functions must be prepended by the namespace that we've 
given in the header file.
</p>
</div>
</div>

<div id="outline-container-orgheadline44" class="outline-4">
<h4 id="orgheadline44"><span class="section-number-4">6.2.3</span> The file containing <code>main</code></h4>
<div class="outline-text-4" id="text-6-2-3">
<p>
Create a file with the main function, say <code>main.cpp</code>:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 2: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">"my_library.h"</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr"> 5: </span>    <span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">xs</span> = <span style="color: #d55e00; font-weight: bold;">my_namespace</span>::linspace(-1,1,5);
<span class="linenr"> 6: </span>    <span style="color: #d55e00; font-weight: bold;">my_namespace</span>::print_array(xs, 5);
<span class="linenr"> 7: </span>    <span style="color: #56b4e9; font-weight: bold;">delete</span> [] xs;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>    <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">10: </span>}
</pre>
</div>

<p>
Now the main function is very nice and clean, but now we 3 separate files we 
must compile into one executable. This is done as follows:
</p>

<div class="org-src-container">

<pre class="src src-bash"><span style="color: #009e73; font-style: italic;"># </span><span style="color: #009e73; font-style: italic;">Convert the library into an object file.</span>
g++ -c my_library.cpp
<span style="color: #009e73; font-style: italic;"># </span><span style="color: #009e73; font-style: italic;">Compile the main to an executable.</span>
g++ my_library.o main.cpp
<span style="color: #009e73; font-style: italic;"># </span><span style="color: #009e73; font-style: italic;">Run it.</span>
./a.out
</pre>
</div>

<pre class="example">
-1
-0.5
0
0.5
1
</pre>

<p>
If successful, you will see the same output <a href="#orgheadline41">as previously</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline48" class="outline-3">
<h3 id="orgheadline48"><span class="section-number-3">6.3</span> Function pointers</h3>
<div class="outline-text-3" id="text-6-3">
<p>
Pointers can be made to functions, and these function pointers can be used 
as arguments to other functions. We'll look at two functions that accept a 
function pointer as one of their arguments.
</p>
</div>

<div id="outline-container-orgheadline46" class="outline-4">
<h4 id="orgheadline46"><span class="section-number-4">6.3.1</span> Example: Newton's method for rootfinding</h4>
<div class="outline-text-4" id="text-6-3-1">
<p>
Suppose \(f: \mathbb{R} \to \mathbb{R}\), and we'd like to find a root of \(f\). 
Newton's method is an iterative method for finding roots, which, starting 
from some initial guess, \(x_0\), iterates:
</p>

<p>
\[
    x_{n+1} \leftarrow x_n - \frac{f(x_n)}{f'(x_n)}
\]
</p>

<p>
For simplicity, we'll dump everything into the file containing <code>main</code>, but
you could imagine a libary with many methods for finding roots, which would 
contain Newton's method.
</p>

<p>
Let's consider \(f(x) = x^2 - 2\).
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;cmath&gt;</span>
<span class="linenr"> 2: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">The function to find the root of.</span>
<span class="linenr"> 5: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #d55e00;">func</span>(<span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x</span>);
<span class="linenr"> 6: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Its derivative.</span>
<span class="linenr"> 7: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #d55e00;">dfunc</span>(<span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x</span>);
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Find the root of `f` using Newton's method,</span>
<span class="linenr">10: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">starting from `x0` until |f(x)| &lt; `tol` or `max_iters`</span>
<span class="linenr">11: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">is reached.</span>
<span class="linenr">12: </span><span style="color: #009e73; font-style: italic;">//</span>
<span class="linenr">13: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Note the first and second arguments are function pointers.</span>
<span class="linenr">14: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #d55e00;">newton_root</span>(<span style="color: #0072b2; font-weight: bold;">double</span> (*<span style="color: #e69f00; font-weight: bold;">f</span>)(<span style="color: #0072b2; font-weight: bold;">double</span>), <span style="color: #0072b2; font-weight: bold;">double</span> (*<span style="color: #e69f00; font-weight: bold;">df</span>)(<span style="color: #0072b2; font-weight: bold;">double</span>), <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x0</span>,
<span class="linenr">15: </span>                   <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">tol</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">max_iters</span>, <span style="color: #0072b2; font-weight: bold;">bool</span> <span style="color: #e69f00; font-weight: bold;">print_iters</span>); 
<span class="linenr">16: </span>
<span class="linenr">17: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr">18: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x</span> = newton_root(&amp;func, &amp;dfunc, 1.0, 1e-6, 1000, <span style="color: #d55e00; font-weight: bold;">true</span>);
<span class="linenr">19: </span>
<span class="linenr">20: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">21: </span>}
<span class="linenr">22: </span>
<span class="linenr">23: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #d55e00;">func</span>( <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x</span>) { <span style="color: #56b4e9; font-weight: bold;">return</span> x*x - 2; }
<span class="linenr">24: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #d55e00;">dfunc</span>(<span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x</span>) { <span style="color: #56b4e9; font-weight: bold;">return</span> 2*x; }
<span class="linenr">25: </span>
<span class="linenr">26: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #d55e00;">newton_root</span>(<span style="color: #0072b2; font-weight: bold;">double</span> (*<span style="color: #e69f00; font-weight: bold;">f</span>)(<span style="color: #0072b2; font-weight: bold;">double</span>), <span style="color: #0072b2; font-weight: bold;">double</span> (*<span style="color: #e69f00; font-weight: bold;">df</span>)(<span style="color: #0072b2; font-weight: bold;">double</span>), <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x0</span>,
<span class="linenr">27: </span>                   <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">tol</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">max_iters</span>, <span style="color: #0072b2; font-weight: bold;">bool</span> <span style="color: #e69f00; font-weight: bold;">print_iters</span>) {
<span class="linenr">28: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x</span>  = x0;
<span class="linenr">29: </span>  <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">iter</span>  = 0;
<span class="linenr">30: </span>
<span class="linenr">31: </span>  <span style="color: #56b4e9; font-weight: bold;">while</span> (<span style="color: #d55e00; font-weight: bold;">std</span>::abs(f(x)) &gt; tol &amp;&amp; iter &lt; max_iters) {
<span class="linenr">32: </span>    <span style="color: #56b4e9; font-weight: bold;">if</span> (print_iters) { 
<span class="linenr">33: </span>      <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"f("</span> &lt;&lt; x &lt;&lt; <span style="color: #848ea9;">") = "</span> &lt;&lt; f(x) &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">34: </span>    }
<span class="linenr">35: </span>
<span class="linenr">36: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Newton's method update.</span>
<span class="linenr">37: </span>    x -= f(x) / df(x);
<span class="linenr">38: </span>    iter++;
<span class="linenr">39: </span>  }
<span class="linenr">40: </span>
<span class="linenr">41: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">One last print if necessary.</span>
<span class="linenr">42: </span>  <span style="color: #56b4e9; font-weight: bold;">if</span> (print_iters) { 
<span class="linenr">43: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"f("</span> &lt;&lt; x &lt;&lt; <span style="color: #848ea9;">") = "</span> &lt;&lt; f(x) &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">44: </span>  }
<span class="linenr">45: </span>
<span class="linenr">46: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> x;
<span class="linenr">47: </span>}
</pre>
</div>

<pre class="example">
f(1) = -1
f(1.5) = 0.25
f(1.41667) = 0.00694444
f(1.41422) = 6.0073e-06
f(1.41421) = 4.51061e-12
</pre>
</div>
</div>

<div id="outline-container-orgheadline47" class="outline-4">
<h4 id="orgheadline47"><span class="section-number-4">6.3.2</span> Example: The midpoint rule for definite integrals</h4>
<div class="outline-text-4" id="text-6-3-2">
<p>
The midpoint rule is a numerical integration method which approximates 
the definite integral of a specified function over a specified interval 
using a specified number of subintervals where on each subinterval, the 
area under the curve is approximated by a rectangle whose width is the 
width of the subinterval and whose height is the height of the function 
at the midpoint between the points defining the end points of the subinterval.
</p>

<p>
Specifically, if \(n\) equally-sized subintervals are used on \([a,b]\), then
the midpoint rule approximation, \(M_n\), to the definite integral of \(f(x)\) 
on \([a,b]\) is: 
</p>

<p>
\[
    \int_a^b f(x) \; dx \approx \sum_{i=1}^n f\left( \frac{x_{i-1}+x_i}{2} \right) \Delta x =: M_n
\]
</p>

<p>
where \(\Delta x = \frac{b-a}{n}\), and \(x_i = a + i \cdot \Delta x, \;\; i=0, 1, \ldots, n\).
</p>

<p>
Let's consider \(f(x) = \frac{1}{x}\) on \([1, e]\).
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 2: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;cmath&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #56b4e9; font-weight: bold;">const</span> <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">E</span> = <span style="color: #d55e00; font-weight: bold;">std</span>::exp(1.0);
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">The function to be integrated.</span>
<span class="linenr"> 7: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #d55e00;">func</span>(<span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x</span>);
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Compute the midpoint rule approximation to</span>
<span class="linenr">10: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">the definite integral of `f` from `a` to `b`</span>
<span class="linenr">11: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">using `n` subintervals.</span>
<span class="linenr">12: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #d55e00;">midpoint_rule</span>(<span style="color: #0072b2; font-weight: bold;">double</span> (*<span style="color: #e69f00; font-weight: bold;">f</span>)(<span style="color: #0072b2; font-weight: bold;">double</span>), <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">a</span>, <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">b</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">n</span>);
<span class="linenr">13: </span>
<span class="linenr">14: </span>
<span class="linenr">15: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr">16: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">n</span>=2; n &lt;= 20; n += 2) {
<span class="linenr">17: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"n = "</span> &lt;&lt; n &lt;&lt; <span style="color: #848ea9;">", "</span>
<span class="linenr">18: </span>              &lt;&lt; <span style="color: #848ea9;">"M_n = "</span> &lt;&lt; midpoint_rule(&amp;func, 1, E, n) &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">19: </span>  }
<span class="linenr">20: </span>
<span class="linenr">21: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">22: </span>}
<span class="linenr">23: </span>
<span class="linenr">24: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #d55e00;">func</span>(<span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">x</span>) { <span style="color: #56b4e9; font-weight: bold;">return</span> 1.0 / x; }
<span class="linenr">25: </span>
<span class="linenr">26: </span><span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #d55e00;">midpoint_rule</span>(<span style="color: #0072b2; font-weight: bold;">double</span> (*<span style="color: #e69f00; font-weight: bold;">f</span>)(<span style="color: #0072b2; font-weight: bold;">double</span>), <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">a</span>, <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">b</span>, <span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">n</span>) {
<span class="linenr">27: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">xi</span>;
<span class="linenr">28: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">xi_prev</span> = a;
<span class="linenr">29: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">dx</span> = (b-a) / n;
<span class="linenr">30: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">sum</span>;
<span class="linenr">31: </span>
<span class="linenr">32: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=1; i &lt;= n; i++) {
<span class="linenr">33: </span>    xi = a + i*dx;
<span class="linenr">34: </span>    sum += f(0.5*(xi_prev + xi));
<span class="linenr">35: </span>    xi_prev = xi;
<span class="linenr">36: </span>  }
<span class="linenr">37: </span>
<span class="linenr">38: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> sum*dx;
<span class="linenr">39: </span>}
</pre>
</div>

<pre class="example">
n = 2, M_n = 0.97636
n = 4, M_n = 0.993575
n = 6, M_n = 0.997091
n = 8, M_n = 0.998353
n = 10, M_n = 0.998942
n = 12, M_n = 0.999264
n = 14, M_n = 0.999459
n = 16, M_n = 0.999585
n = 18, M_n = 0.999672
n = 20, M_n = 0.999734
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-2">
<h2 id="orgheadline9"><span class="section-number-2">7</span> Object-oriented programming</h2>
<div class="outline-text-2" id="text-7">
<p>
New data types can be created by writing a new <code>class</code>. A <code>class</code> has 
state variables and functions that act on the state variables. An instance 
of a <code>class</code> is called an <b>object</b>. Let's write a <code>vector</code> class that 
improves upon the default <code>double</code> array.
</p>
</div>

<div id="outline-container-orgheadline58" class="outline-3">
<h3 id="orgheadline58"><span class="section-number-3">7.1</span> Example: a vector <code>class</code></h3>
<div class="outline-text-3" id="text-7-1">
</div><div id="outline-container-orgheadline49" class="outline-4">
<h4 id="orgheadline49"><span class="section-number-4">7.1.1</span> The header file</h4>
<div class="outline-text-4" id="text-7-1-1">
<p>
Create the header file, <code>vector.h</code>:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#if</span><span style="color: #0072b2;">n</span><span style="color: #0072b2;">def</span> VECTOR_H
<span class="linenr"> 2: </span><span style="color: #0072b2;">#define</span> <span style="color: #e69f00; font-weight: bold;">VECTOR_H</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #56b4e9; font-weight: bold;">namespace</span> <span style="color: #d55e00; font-weight: bold;">vec</span> {
<span class="linenr"> 5: </span>  <span style="color: #56b4e9; font-weight: bold;">class</span> <span style="color: #0072b2; font-weight: bold;">vector</span> {
<span class="linenr"> 6: </span>  <span style="color: #56b4e9; font-weight: bold;">public</span>:
<span class="linenr"> 7: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Constructor. This function is called when the object is created.</span>
<span class="linenr"> 8: </span>    <span style="color: #d55e00;">vector</span>(<span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #e69f00; font-weight: bold;">len</span>);
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Destructor. This function is called when the object is destroyed.</span>
<span class="linenr">11: </span>    ~<span style="color: #d55e00;">vector</span>();
<span class="linenr">12: </span>
<span class="linenr">13: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">length accessor.</span>
<span class="linenr">14: </span>    <span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #d55e00;">len</span>() <span style="color: #56b4e9; font-weight: bold;">const</span>;
<span class="linenr">15: </span>
<span class="linenr">16: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">data accessor.</span>
<span class="linenr">17: </span>    <span style="color: #0072b2; font-weight: bold;">double</span> &amp; <span style="color: #d55e00;">element</span>(<span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #e69f00; font-weight: bold;">i</span>) <span style="color: #56b4e9; font-weight: bold;">const</span>;
<span class="linenr">18: </span>
<span class="linenr">19: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Simple print function.</span>
<span class="linenr">20: </span>    <span style="color: #0072b2; font-weight: bold;">void</span> <span style="color: #d55e00;">print</span>() <span style="color: #56b4e9; font-weight: bold;">const</span>;
<span class="linenr">21: </span>
<span class="linenr">22: </span>  <span style="color: #56b4e9; font-weight: bold;">private</span>:
<span class="linenr">23: </span>    <span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #e69f00; font-weight: bold;">length</span>;
<span class="linenr">24: </span>    <span style="color: #0072b2; font-weight: bold;">double</span> * <span style="color: #e69f00; font-weight: bold;">data</span>;
<span class="linenr">25: </span>    <span style="color: #0072b2; font-weight: bold;">void</span> <span style="color: #d55e00;">check_index</span>(<span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #e69f00; font-weight: bold;">i</span>) <span style="color: #56b4e9; font-weight: bold;">const</span>;
<span class="linenr">26: </span>  };
<span class="linenr">27: </span>}
<span class="linenr">28: </span><span style="color: #0072b2;">#endif</span>
</pre>
</div>

<p>
First note the macro guards, <code>#ifndef</code>, <code>#define</code>, and <code>#endif</code>, as well as the 
namespace, <code>vec</code>, wrapping the <code>class</code> declaration. Macro guards and namespaces 
were previously discussed when we initially introduced 
<a href="#orgheadline45">how to write header and implementation files</a>. 
</p>

<p>
Now, within the namespace, we've declared a class, <code>vector</code>, which 
contains <code>public</code> and <code>private</code> variables and function declarations. Private 
functions and variables may only be accessed through the public methods. This 
means if you created an instance of the class, <code>vector</code>, you would not be able 
to access the private variable directly. You could only call the <b>public 
member-functions</b>, which, in turn, may manipulate the 
<b>private member-variables</b>, or call the <b>private member-functions</b>. 
Splitting variables and functions into public and private helps to ensure 
that other libraries and programs use your class as intended.
</p>

<p>
Thus far, this class has 5 public member-functions, 2 private member-variables, 
and 1 private member-function. The first two member functions are special, 
the <b>constructor</b> and <b>destructor</b>, respectively. The constructor is called 
explicitly when you declare a new instance of this class, while the destructor 
is usually called implicitly when the object is deleted or when it goes out of 
scope.
</p>

<p>
Notice that the method for accessing elements of <code>vector</code> is called <code>element</code> 
and its return type is a <b>reference</b> (<a href="#orgheadline19">discussed previously</a>). This allows us 
to use this function on both the left side of assignment operators, i.e., to 
assign values to <code>vector</code> components, and on the right side of assignments, 
i.e., to treat it as the value of the component.
</p>

<p>
Finally, notice that some member function declarations end with the keyword, 
<code>const</code>. Functions with such a signature are not allowed to modify member 
variables, and they are also not allowed to call other non <code>const</code> member 
functions.
</p>
</div>
</div>

<div id="outline-container-orgheadline50" class="outline-4">
<h4 id="orgheadline50"><span class="section-number-4">7.1.2</span> The implementation file</h4>
<div class="outline-text-4" id="text-7-1-2">
<p>
Create the implementation file, <code>vector.cpp</code>:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 2: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;cstdlib&gt;</span>
<span class="linenr"> 3: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">"vector.h"</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #56b4e9; font-weight: bold;">namespace</span> <span style="color: #d55e00; font-weight: bold;">vec</span> {
<span class="linenr"> 6: </span>  <span style="color: #d55e00; font-weight: bold;">vector</span>::<span style="color: #d55e00;">vector</span>(<span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #e69f00; font-weight: bold;">len</span>) {
<span class="linenr"> 7: </span>    <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;length = len;
<span class="linenr"> 8: </span>    <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;data = <span style="color: #56b4e9; font-weight: bold;">new</span> <span style="color: #0072b2; font-weight: bold;">double</span>[len];
<span class="linenr"> 9: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Initialize data to zeros.</span>
<span class="linenr">10: </span>    <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;len(); i++) { <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;data[i] = 0.0; }
<span class="linenr">11: </span>  }
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #d55e00; font-weight: bold;">vector</span>::~<span style="color: #d55e00;">vector</span>() {
<span class="linenr">14: </span>    <span style="color: #56b4e9; font-weight: bold;">delete</span> [] <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;data;
<span class="linenr">15: </span>  }
<span class="linenr">16: </span>
<span class="linenr">17: </span>  <span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #d55e00; font-weight: bold;">vector</span>::<span style="color: #d55e00;">len</span>() <span style="color: #56b4e9; font-weight: bold;">const</span> {
<span class="linenr">18: </span>    <span style="color: #56b4e9; font-weight: bold;">return</span> <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;length;
<span class="linenr">19: </span>  }
<span class="linenr">20: </span>
<span class="linenr">21: </span>  <span style="color: #0072b2; font-weight: bold;">double</span> &amp; <span style="color: #d55e00; font-weight: bold;">vector</span>::<span style="color: #d55e00;">element</span>(<span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #e69f00; font-weight: bold;">i</span>) <span style="color: #56b4e9; font-weight: bold;">const</span> {
<span class="linenr">22: </span><span style="color: #0072b2;">    #if</span><span style="color: #0072b2;">n</span><span style="color: #0072b2;">def</span> NDEBUG
<span class="linenr">23: </span>    check_index(i);
<span class="linenr">24: </span><span style="color: #0072b2;">    #endif</span>
<span class="linenr">25: </span>    <span style="color: #56b4e9; font-weight: bold;">return</span> <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;data[i];
<span class="linenr">26: </span>  }
<span class="linenr">27: </span>
<span class="linenr">28: </span>  <span style="color: #0072b2; font-weight: bold;">void</span> <span style="color: #d55e00; font-weight: bold;">vector</span>::<span style="color: #d55e00;">print</span>() <span style="color: #56b4e9; font-weight: bold;">const</span> {
<span class="linenr">29: </span>    <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;len(); i++) {
<span class="linenr">30: </span>      <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;data[i] &lt;&lt; <span style="color: #848ea9;">'\n'</span>;
<span class="linenr">31: </span>    }
<span class="linenr">32: </span>  }
<span class="linenr">33: </span>
<span class="linenr">34: </span>  <span style="color: #0072b2; font-weight: bold;">void</span> <span style="color: #d55e00; font-weight: bold;">vector</span>::<span style="color: #d55e00;">check_index</span>(<span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #e69f00; font-weight: bold;">i</span>) <span style="color: #56b4e9; font-weight: bold;">const</span> {
<span class="linenr">35: </span>    <span style="color: #56b4e9; font-weight: bold;">if</span> (i &lt; 0 || i &gt;= <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;length) {
<span class="linenr">36: </span>      <span style="color: #d55e00; font-weight: bold;">std</span>::cerr &lt;&lt; <span style="color: #848ea9;">"ERROR: index, "</span> &lt;&lt; i &lt;&lt; <span style="color: #848ea9;">", is out-of-bounds.\n"</span>
<span class="linenr">37: </span>                &lt;&lt; <span style="color: #848ea9;">"(valid indices are 0-"</span> &lt;&lt; (<span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;length-1) &lt;&lt; <span style="color: #848ea9;">")\n"</span>;
<span class="linenr">38: </span>      exit(1);
<span class="linenr">39: </span>    }
<span class="linenr">40: </span>  }
<span class="linenr">41: </span>}
</pre>
</div>

<p>
Note that we again wrap the implementations in the same namespace as wrapped 
by the class declaration. Also observe how each member-function is prepended 
by <code>vector::</code>.
</p>

<p>
The keyword, <code>this</code>, is a pointer to the calling object. Writing, <code>this-&gt;</code>,
is equivalent to <code>(*this).</code>, and in fact, can be used for any pointer. Thus,
<code>this-&gt;length</code> is equivalent to <code>(*this).length</code>.
</p>

<p>
Observe how the private member function, <code>check_index</code>, is used in the 
public <code>element</code> accessor function. If this library is compiled with the 
flag, <code>-DNEDUBG</code>, then the check function will not be called. You could 
read this flag as "define no debug". Thus, when this flag is present, the 
debug function <code>check_index</code> is called whenever the element accessor is 
called. The <code>check_index</code> function simply checks if the provided index is 
out-of-bounds for the vector. If it is, an informative message is printed, 
and the program terminates prematurely by calling <code>exit(1)</code>. Such assertions 
with informative messages are a good practice, and will likely save you lots 
of headaches in the future.
</p>
</div>
</div>

<div id="outline-container-orgheadline51" class="outline-4">
<h4 id="orgheadline51"><span class="section-number-4">7.1.3</span> Example usage</h4>
<div class="outline-text-4" id="text-7-1-3">
<p>
Ok. Let's see some example usage, by creating a <code>main.cpp</code>, containing:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 2: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">"vector.h"</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr"> 5: </span>    <span style="color: #d55e00; font-weight: bold;">vec</span>::<span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #e69f00; font-weight: bold;">v</span>(5);
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"`v` has length = "</span> &lt;&lt; v.len() &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>    v.element(0) = -1.27;
<span class="linenr">10: </span>    v.element(3) = 3.1;
<span class="linenr">11: </span>
<span class="linenr">12: </span>    v.print();
<span class="linenr">13: </span>
<span class="linenr">14: </span>    v.element(5) = 1234.0;
<span class="linenr">15: </span>
<span class="linenr">16: </span>    <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>

<p>
Let's first compile with our <code>check_index</code> debugger function in place:
</p>

<div class="org-src-container">

<pre class="src src-bash">g++ -c vector.cpp
g++ vector.o main.cpp
./a.out
</pre>
</div>

<p>
If successful, you should see:
</p>

<pre class="example">
`v` has length = 5
-1.27
0
0
3.1
0
ERROR: index, 5, is out-of-bounds.
(valid indices are 0-4)
</pre>

<p>
Now let's run without <code>check_index</code>:
</p>

<div class="org-src-container">

<pre class="src src-bash">g++ -DNDEBUG -c vector.cpp
g++ vector.o main.cpp
./a.out
</pre>
</div>

<p>
Upon running, you will likely see some extensive list of errors when 
the element beyond the array's length is attempted to be accessed. Again, 
by liberally sprinkling these sorts of assertions through your code, you 
will (sometimes) find debugging much easier. After you're fairly certain 
that your code is working, you can simply compile with <code>-DNEDUBG</code>.
</p>
</div>
</div>

<div id="outline-container-orgheadline54" class="outline-4">
<h4 id="orgheadline54"><span class="section-number-4">7.1.4</span> Operator overloading</h4>
<div class="outline-text-4" id="text-7-1-4">
<p>
The <code>v.element(i)</code> accessor is a bit clunky. We can replace this with the 
more natural, <code>v[i]</code>, by <b>overloading</b> the <code>[]</code> operator. Indeed,
 <a href="http://en.cppreference.com/w/cpp/language/operators">we can overload many</a> of the normal C++ operators, e.g. <code>+</code>, <code>-</code>, <code>=</code>, etc.
Some of these operators require more careful consideration when implementing 
class that utilizes dynamic memory allocation, such as our <code>vector</code> class.
</p>
</div>

<div id="outline-container-orgheadline52" class="outline-5">
<h5 id="orgheadline52"><span class="section-number-5">7.1.4.1</span> Overloading <code>operator[]</code></h5>
<div class="outline-text-5" id="text-7-1-4-1">
<p>
In the header file, replace the <code>element</code> function declaration with:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">data accessor.</span>
<span class="linenr">2: </span><span style="color: #0072b2; font-weight: bold;">double</span> &amp; <span style="color: #56b4e9; font-weight: bold;">operator</span><span style="color: #d55e00;">[]</span>(<span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #e69f00; font-weight: bold;">i</span>) <span style="color: #56b4e9; font-weight: bold;">const</span>;
</pre>
</div>

<p>
and in the implementation file, replace the <code>element</code> implementation with:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #0072b2; font-weight: bold;">double</span> &amp; <span style="color: #d55e00; font-weight: bold;">vector</span>::<span style="color: #56b4e9; font-weight: bold;">operator</span><span style="color: #d55e00;">[]</span>(<span style="color: #0072b2; font-weight: bold;">unsigned</span> <span style="color: #e69f00; font-weight: bold;">i</span>) <span style="color: #56b4e9; font-weight: bold;">const</span> {
<span class="linenr">2: </span><span style="color: #0072b2;">  #if</span><span style="color: #0072b2;">n</span><span style="color: #0072b2;">def</span> NDEBUG
<span class="linenr">3: </span>  check_index(i);
<span class="linenr">4: </span><span style="color: #0072b2;">  #endif</span>
<span class="linenr">5: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;data[i];
<span class="linenr">6: </span>}
</pre>
</div>

<p>
Just think of <code>operator[]</code> as the new name of the function, <code>element</code>. We 
can now use the overloaded operator just like how we would use the <code>[]</code> for 
operator for accessing array components, expect now our overloaded operator 
function is called instead.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span>v[0] = -1.27;
<span class="linenr">2: </span>v[3] = 3.1;
</pre>
</div>

<p>
Compile and run:
</p>

<div class="org-src-container">

<pre class="src src-bash">g++ -c vector.cpp &amp;&amp; g++ vector.o main.cpp &amp;&amp; ./a.out
</pre>
</div>

<p>
and you should see:
</p>

<pre class="example">
-1.27
0
0
3.1
0
</pre>

<p>
just like before.
</p>
</div>
</div>

<div id="outline-container-orgheadline53" class="outline-5">
<h5 id="orgheadline53"><span class="section-number-5">7.1.4.2</span> Overloading <code>operator=</code></h5>
<div class="outline-text-5" id="text-7-1-4-2">
<p>
Let's overload the <code>=</code> operator so we can assign one vector to another. 
We'll write in a way such that the vector on the left hand side is 
overwritten by the one on the right.
</p>

<p>
Let's add a declaration to the header file,
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">assignment operator.</span>
<span class="linenr">2: </span><span style="color: #0072b2; font-weight: bold;">vector</span> &amp; <span style="color: #56b4e9; font-weight: bold;">operator</span><span style="color: #d55e00;">=</span>(<span style="color: #56b4e9; font-weight: bold;">const</span> <span style="color: #0072b2; font-weight: bold;">vector</span> &amp; <span style="color: #e69f00; font-weight: bold;">src</span>);
</pre>
</div>

<p>
and let's add to the implementation file,
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2; font-weight: bold;">vector</span> &amp; <span style="color: #d55e00; font-weight: bold;">vector</span>::<span style="color: #56b4e9; font-weight: bold;">operator</span><span style="color: #d55e00;">=</span>(<span style="color: #56b4e9; font-weight: bold;">const</span> <span style="color: #0072b2; font-weight: bold;">vector</span> &amp; <span style="color: #e69f00; font-weight: bold;">src</span>) {
<span class="linenr"> 2: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Delete the old data.</span>
<span class="linenr"> 3: </span>  <span style="color: #56b4e9; font-weight: bold;">delete</span> [] <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;data;
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Initialize the new data.</span>
<span class="linenr"> 6: </span>  <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;length = src.len();
<span class="linenr"> 7: </span>  <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;data = <span style="color: #56b4e9; font-weight: bold;">new</span> <span style="color: #0072b2; font-weight: bold;">double</span>[<span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;len()];
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Copy over the new data.</span>
<span class="linenr">10: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;len(); i++) {
<span class="linenr">11: </span>    <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;data[i] = src[i];
<span class="linenr">12: </span>  }
<span class="linenr">13: </span>
<span class="linenr">14: </span>  <span style="color: #56b4e9; font-weight: bold;">return</span> *<span style="color: #56b4e9; font-weight: bold;">this</span>;
<span class="linenr">15: </span>}
</pre>
</div>

<p>
Now, let's assume the <code>vector</code> instance, <code>v</code>, from above is still defined, and
we'll create a new vector:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #d55e00; font-weight: bold;">vec</span>::<span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #d55e00;">w</span>(14);
<span class="linenr">2: </span>w = v;
<span class="linenr">3: </span>w.print();
</pre>
</div>

<p>
This should print, 
</p>

<pre class="example">
-1.27
0
0
3.1
0
</pre>

<p>
Notice that <code>w</code> is intially defined to be of length <code>14</code>, but this is 
overwritten, and its new length is the length of <code>v</code>. Also note that all of
<code>w</code>'s old data is deleted.
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline55" class="outline-4">
<h4 id="orgheadline55"><span class="section-number-4">7.1.5</span> The copy constructor</h4>
<div class="outline-text-4" id="text-7-1-5">
<p>
It may be tempting at this point to attempt to initialize <code>w</code> from <code>v</code>
directly:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #d55e00; font-weight: bold;">vec</span>::<span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #e69f00; font-weight: bold;">w</span> = v;
</pre>
</div>

<p>
If you attempt this currently, you will see all sorts of errors. This is 
because this type of intialization does not call the assignment operator. 
It calls the <b>copy constructor</b>. The assignment operator is only called 
when the object has already been intialized. Writing the previous line of 
code is essentially equivalent to
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #d55e00; font-weight: bold;">vec</span>::<span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #d55e00;">w</span>(v);
</pre>
</div>

<p>
In other words, the constructor is called with the existing vector, <code>v</code>, as
the argument, but we have not written a constructor yet with such a call 
signature.
</p>

<p>
The constructor can be overloaded, i.e., we can write multiple versions of the 
constructor function, and the one that matches the correct call signature will 
be used. This function overloading behavior actually applies to all functions 
in C++.
</p>

<p>
Let's add the copy constructor declaration to the header file:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Copy constructor.</span>
<span class="linenr">2: </span><span style="color: #d55e00;">vector</span>(<span style="color: #56b4e9; font-weight: bold;">const</span> <span style="color: #0072b2; font-weight: bold;">vector</span> &amp; <span style="color: #e69f00; font-weight: bold;">src</span>);
</pre>
</div>

<p>
and let's add its implementation:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #d55e00; font-weight: bold;">vector</span>::<span style="color: #d55e00;">vector</span>(<span style="color: #56b4e9; font-weight: bold;">const</span> <span style="color: #0072b2; font-weight: bold;">vector</span> &amp; <span style="color: #e69f00; font-weight: bold;">src</span>) {
<span class="linenr">2: </span>  <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;length = src.len();
<span class="linenr">3: </span>  <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;data = <span style="color: #56b4e9; font-weight: bold;">new</span> <span style="color: #0072b2; font-weight: bold;">double</span>[<span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;len()];
<span class="linenr">4: </span>
<span class="linenr">5: </span>  <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Copy over the data.</span>
<span class="linenr">6: </span>  <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;len(); i++) {
<span class="linenr">7: </span>    <span style="color: #56b4e9; font-weight: bold;">this</span>-&gt;data[i] = src[i];
<span class="linenr">8: </span>  }
<span class="linenr">9: </span>}
</pre>
</div>

<p>
Now we compile and run something like:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #d55e00; font-weight: bold;">vec</span>::<span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #e69f00; font-weight: bold;">w</span> = v;
<span class="linenr">2: </span>w.print();
</pre>
</div>

<p>
we will see:
</p>

<pre class="example">
-1.27
0
0
3.1
0
</pre>
</div>
</div>

<div id="outline-container-orgheadline57" class="outline-4">
<h4 id="orgheadline57"><span class="section-number-4">7.1.6</span> Friend functions</h4>
<div class="outline-text-4" id="text-7-1-6">
<p>
Non-member functions may access private member variables and private member 
functions of by labeling them as <code>friend</code>. This is useful in situations where 
it is not clear that function should be "called on" an object, i.e. 
<code>object.method(params)</code>. Friend functions should be declared in the class 
declaration, but their implementation is not prepended with <code>class::</code>, which 
is necessary for member functions.
</p>
</div>

<div id="outline-container-orgheadline56" class="outline-5">
<h5 id="orgheadline56"><span class="section-number-5">7.1.6.1</span> <code>operator*</code></h5>
<div class="outline-text-5" id="text-7-1-6-1">
<p>
As an example, we'll overload <code>operator*</code> to implement scalar multiplication.
</p>

<p>
Because scalar multiplication should commute, let's add the following
two declarations to our header file:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #56b4e9; font-weight: bold;">friend</span> <span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #56b4e9; font-weight: bold;">operator</span><span style="color: #d55e00;">*</span>(<span style="color: #56b4e9; font-weight: bold;">const</span> <span style="color: #0072b2; font-weight: bold;">vector</span> &amp; <span style="color: #e69f00; font-weight: bold;">v</span>, <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">s</span>);
<span class="linenr">2: </span><span style="color: #56b4e9; font-weight: bold;">friend</span> <span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #56b4e9; font-weight: bold;">operator</span><span style="color: #d55e00;">*</span>(<span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">s</span>, <span style="color: #56b4e9; font-weight: bold;">const</span> <span style="color: #0072b2; font-weight: bold;">vector</span> &amp; <span style="color: #e69f00; font-weight: bold;">v</span>);
</pre>
</div>

<p>
Let's implement the first by adding to the declaration file:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #56b4e9; font-weight: bold;">operator</span><span style="color: #d55e00;">*</span>(<span style="color: #56b4e9; font-weight: bold;">const</span> <span style="color: #0072b2; font-weight: bold;">vector</span> &amp; <span style="color: #e69f00; font-weight: bold;">v</span>, <span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">s</span>) {
<span class="linenr">2: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Copy v to start.</span>
<span class="linenr">3: </span>    <span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #e69f00; font-weight: bold;">result</span> = v;
<span class="linenr">4: </span>    <span style="color: #009e73; font-style: italic;">// </span><span style="color: #009e73; font-style: italic;">Then multiply all entries by scalar, s.</span>
<span class="linenr">5: </span>    <span style="color: #56b4e9; font-weight: bold;">for</span>(<span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #e69f00; font-weight: bold;">i</span>=0; i &lt; v.len(); i++) {
<span class="linenr">6: </span>        result[i] *= s;
<span class="linenr">7: </span>    }
<span class="linenr">8: </span>    <span style="color: #56b4e9; font-weight: bold;">return</span> result;
<span class="linenr">9: </span>}
</pre>
</div>

<p>
Observe how we didn't prepend <code>vector::</code> before <code>operator*</code> because 
these are <code>friend</code> functions.
</p>

<p>
Now, we can use the first implementation to achieve the second:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr">1: </span><span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #56b4e9; font-weight: bold;">operator</span><span style="color: #d55e00;">*</span>(<span style="color: #0072b2; font-weight: bold;">double</span> <span style="color: #e69f00; font-weight: bold;">s</span>, <span style="color: #56b4e9; font-weight: bold;">const</span> <span style="color: #0072b2; font-weight: bold;">vector</span> &amp; <span style="color: #e69f00; font-weight: bold;">v</span>) {
<span class="linenr">2: </span>    <span style="color: #56b4e9; font-weight: bold;">return</span> v*s;
<span class="linenr">3: </span>}
</pre>
</div>

<p>
And let's try it out:
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="linenr"> 1: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">&lt;iostream&gt;</span>
<span class="linenr"> 2: </span><span style="color: #0072b2;">#include</span> <span style="color: #848ea9;">"vector.h"</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #0072b2; font-weight: bold;">int</span> <span style="color: #d55e00;">main</span>() {
<span class="linenr"> 5: </span>    <span style="color: #d55e00; font-weight: bold;">vec</span>::<span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #e69f00; font-weight: bold;">v</span>(5);
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>    v[0] = -1.27;
<span class="linenr"> 8: </span>    v[3] = 3.1;
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>    <span style="color: #d55e00; font-weight: bold;">vec</span>::<span style="color: #0072b2; font-weight: bold;">vector</span> <span style="color: #e69f00; font-weight: bold;">w</span> = 2*v;
<span class="linenr">11: </span>
<span class="linenr">12: </span>    w.print();
<span class="linenr">13: </span>
<span class="linenr">14: </span>    <span style="color: #d55e00; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #848ea9;">"\n"</span>;
<span class="linenr">15: </span>
<span class="linenr">16: </span>    w = w*0.5;
<span class="linenr">17: </span>
<span class="linenr">18: </span>    w.print();
<span class="linenr">19: </span>
<span class="linenr">20: </span>    <span style="color: #56b4e9; font-weight: bold;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>

<p>
prints:
</p>

<pre class="example">
-2.54
0
0
6.2
0

-1.27
0
0
3.1
0
</pre>

</div>
</div>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
